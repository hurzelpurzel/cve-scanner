# cve-scanner


# TODO:
- Log in as a cluster admin
- oc new-project cve-scanner
- apply manifest from ocp_object using 
    oc apply -f ocp_objects/rb-image-auditor.yml -n  cve-scanner 
    oc apply -f ocp_objects/rb-image-registryviewer.yml -n  cve-scanner
    oc apply -f ocp_objects/rb-cluster-viewer.yml -n  cve-scanner
- copy pull secret
    oc get secret pull-secret -n=openshift-config -o yaml | sed --expression='s/openshift-config/cve-scanner/' | oc apply --namespace=cve-scanner -f -
    
- Add Application by using 
    oc new-app https://github.com/hurzelpurzel/cve-scanner.git -n cve-scanner --name=cve-scanner
- Mount secret (do note use this from window oc client due to path bug)
    oc set volume deployment/cve-scanner --add --name=pullsec --type=secret --secret-name='pull-secret' --mount-path=/grype_dir/dockerconfig -n cve-scanner


# TODO: Futher step
- Create PVC for output and CVE DB
- Create Jobs for each namespace to speed up process
- Create Cronjob for DB update
