# cve-scanner

## scan.sh 
Scan all images from existing pods in a specific namespace with grype,<br>
a vulnerability scanner for container images and filesystems

### Prerequisites:
Docker<br>
https://docs.docker.com/get-docker/<br>

grype<br>
https://github.com/anchore/grype<br>

expose route to internal Registry<br>
https://docs.openshift.com/container-platform/4.7/registry/securing-exposing-registry.html<br>

OpenShift Container Platform CLI<br>
https://docs.openshift.com/container-platform/4.7/cli_reference/openshift_cli/getting-started-cli.html<br>

### Online-Installation
curl -sSfL https://raw.githubusercontent.com/anchore/grype/main/install.sh | sh -s -- -b <GRYPE_DESTINATION_DIR><br>
sudo ln -s <GRYPE_DESTINATION_DIR>/grype /usr/local/bin/grype<br>
copy scan.sh <SCRIPT_DESTINATION_DIR><br>
chmod u+x <SCRIPT_DESTINATION_DIR>/scan.sh<br>
docker login -u <USERNAME> -p <PASSWORD> \<REGISTRY\><br>

### Run scan.sh<br>
<SCRIPT_DESTINATION_DIR>/scan.sh<br>

### Examples
Only grep results which contains log4j<br>
<SCRIPT_DESTINATION_DIR>/scan.sh log4j<br>

Only grep results which contains critical<br>
<SCRIPT_DESTINATION_DIR>/scan.sh critical<br>

Logfiles are stored in <SCRIPT_DESTINATION_DIR><br>
No output, no logfile


